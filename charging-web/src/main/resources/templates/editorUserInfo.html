<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-spring4-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:include="includes/head :: head"></th:block>


    <link rel="stylesheet" href="/assets/apps/css/dropzone.min.css" />
    <link rel="stylesheet" href="/assets/apps/css/basic.min.css" />
    <script src="/assets/apps/scripts/dropzone.min.js" type="text/javascript"></script>

</head>

<body class="page-container-bg-solid page-header-fixed page-sidebar-closed-hide-logo">

<th:block th:include="includes/header :: header"></th:block>

<!-- BEGIN CONTAINER -->
<div class="page-container">
    <!-- BEGIN SIDEBAR -->
    <th:block th:include="includes/menu :: menu"></th:block>
    <!-- END SIDEBAR -->

    <!-- BEGIN CONTENT -->
    <div class="page-content-wrapper">
        <!-- BEGIN CONTENT BODY -->
        <div class="page-content">
            <div class="row">
                <div class="col-md-12">
                    <!-- BEGIN EXAMPLE TABLE PORTLET-->
                    <div class="portlet light bordered">
                        <div class="portlet-title">
                            <div class="caption font-green">
                                <i class="icon-pin font-green"></i>
                                <span class="caption-subject bold uppercase">编辑用户信息</span>
                            </div>
                        </div>
                        <div th:if="${baseResult}">
                            <div class="alert alert-danger alert-dismissable">
                                <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>
                                <strong th:text="${baseResult.message}"></strong>
                            </div>
                        </div>
                        <div class="portlet-body form">
                            <form role="form" action="/modifyUserInfo" th:action="@{/modifyUserInfo}" th:method="post"
                                  th:object="${userInfoVO}">
                                <input type="hidden" name="id" th:value="*{id}"/>
                                <div class="form-body" style="width: 90% ;padding-left: 80px">
                                    <div class="form-group form-md-line-input form-md-floating-label has-info">
                                        <div th:if="${userInfoVO.getId()} != null">
                                            <input type="text" class="form-control" th:required="1" id="form_control_1"
                                                   th:field="*{username}" readonly>
                                            <label for="form_control_1">账号</label>
                                        </div>
                                        <div th:if="${userInfoVO.getId()} == null">
                                            <input type="text" class="form-control" th:required="1" id="form_control_1"
                                                   th:field="*{username}">
                                            <label for="form_control_1">账号</label>
                                        </div>
                                    </div>
                                    <div class="form-group form-md-line-input form-md-floating-label has-info">
                                        <input type="text" class="form-control" th:required="1" id="form_control_1"
                                               th:field="*{password}">
                                        <label for="form_control_1">密码</label>
                                    </div>
                                    <div class="form-group form-md-line-input form-md-floating-label has-info">
                                        <input type="text" class="form-control" th:required="1" id="form_control_1"
                                               th:field="*{name}">
                                        <label for="form_control_1">用户名</label>
                                    </div>
                                    <div class="form-group form-md-line-input form-md-floating-label has-info">
                                        <input type="text" class="form-control" th:required="1" id="form_control_1"
                                               th:field="*{phone}">
                                        <label for="form_control_1">手机号</label>
                                    </div>
                                    <div class="form-group form-md-line-input form-md-floating-label has-info">
                                        <input type="text" class="form-control" th:required="1" id="form_control_1"
                                               th:field="*{email}">
                                        <label for="form_control_1">邮箱</label>
                                    </div>
                                    <div class="form-group">
                                        <div class="mt-radio-inline">
                                            <label>性别:&nbsp;&nbsp;&nbsp;&nbsp; <label
                                                    th:if="*{sex == 0}">男</label><label
                                                    th:if="*{sex == 1}">女</label></label>
                                                <label class="mt-radio" th:if="${userInfoVO.getId()} == null">
                                                    <input type="radio" name="sex" id="optionsRadios4" th:value="0"
                                                           th:field="*{sex}"> 男
                                                    <span></span>
                                                </label>
                                                <label class="mt-radio" th:if="${userInfoVO.getId()} == null">
                                                    <input type="radio" name="sex" id="optionsRadios5" th:value="1"
                                                           th:field="*{sex}"> 女
                                                    <span></span>
                                                </label>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="mt-radio-inline" >
                                            <label>用户类型:&nbsp;&nbsp;&nbsp;<label
                                                    th:if="*{userType == 0}">用户</label><label
                                                    th:if="*{userType == 1}">管理员</label></label>
                                                <label class="mt-radio" th:if="${userInfoVO.getId()} == null">
                                                    <input type="radio" name="sex" id="optionsRadios4" th:value="0"
                                                           th:field="*{userType}"> 用户
                                                    <span></span>
                                                </label>
                                                <label class="mt-radio" th:if="${userInfoVO.getId()} == null">
                                                    <input type="radio" name="sex" id="optionsRadios5" th:value="1"
                                                           th:fiedl="*{userType}"> 管理员
                                                    <span></span>
                                                </label>
                                        </div>
                                    </div>
                                    <div class="form-group form-md-line-input form-md-floating-label has-info">
                                        <input type="text" class="form-control pic" th:required="1" id="form_control_1"
                                               th:field="*{picUrl}" readonly>
                                        <div id="dropz" class="dropzone"></div>
                                    </div>
                                    <!--                                    <div class="form-group form-md-line-input form-md-floating-label has-info">-->
                                    <!--                                        <input type="text" list="chooseSubSort"  aria-required="true" th:required="1" class="form-control" id="form_control_1" th:field="*{subSort}">-->
                                    <!--                                        <datalist id="chooseSubSort" style="display:none;">-->
                                    <!--                                            <div th:each="articleSubSort:${articleSubSorts}">-->
                                    <!--                                                <option th:text="${articleSubSort.subSort}" th:value="${articleSubSort.subSort}"></option>-->
                                    <!--                                            </div>-->
                                    <!--                                        </datalist>-->
                                    <!--                                        <label for="form_control_1">所属子分类</label>-->
                                    <!--                                    </div>-->
                                    <!--                                    <div class="form-group form-md-line-input form-md-floating-label has-info">-->
                                    <!--                                        <input type="text"  class="form-control" th:required="1"  id="form_control_1" th:field="*{title}">-->
                                    <!--                                        <label for="form_control_1">文章标题</label>-->
                                    <!--                                    </div>-->
                                    <!--                                    <div class="form-group form-md-line-input form-md-floating-label has-info">-->
                                    <!--                                        <label for="form_control_1">文章内容</label>-->
                                    <!--                                    </div>-->
                                    <!--                                    <div class="markdown-body editormd-preview-container" id="custom-toc-container" style="">#custom-toc-container</div>-->
                                    <!--                                    <div id="article-content">-->
                                    <!--                                        <textarea style="display:none;" th:field="*{content}"></textarea>-->
                                    <!--                                    </div>-->
                                    <!--<div class="form-group form-md-line-input form-md-floating-label has-info">-->
                                    <!--<input type="text" class="form-control" id="form_control_1" disabled="disabled">-->
                                    <!--<label for="form_control_1">图片地址</label>-->
                                    <!--</div>-->
                                    <hr/>
                                    <div class="form-actions noborder">
                                        <div style="display: inline;">
                                            <button type="button" class="btn default" onclick="history.go(-1)">返回
                                            </button>
                                        </div>
                                        <div style="padding-left: 63.3%; display: inline">
                                            <button type="submit" class="btn blue">提交</button>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <!-- END EXAMPLE TABLE PORTLET-->
                </div>
            </div>
        </div>
        <!-- END CONTENT BODY -->
    </div>
    <!-- END CONTENT -->
    <!-- BEGIN QUICK SIDEBAR -->
    <!-- END QUICK SIDEBAR -->
</div>
<!-- END CONTAINER -->

<th:block th:include="includes/foot :: foot"></th:block>

<script type="text/javascript">
    var myDropzone = new Dropzone("#dropz", {
        url: "/upload",
        maxFiles: 1,// 一次性上传的文件数量上限
        addRemoveLinks: true,
        dictMaxFilesExceeded: "您最多只能上传1个文件！",
        dictDefaultMessage: '拖动文件至此或者点击上传', // 设置默认的提示语句
        dictRemoveLinks: "删除",
        dictCancelUpload: "取消",
        paramName: "dropzFile", // 传到后台的参数名称
        init: function () {
            this.on("success", function (file, data) {
                // 上传成功触发的事件
                $(".pic").val(data.fileName);
            });
            this.on("removedfile", function () {
                // 删除文件时触发的方法
                $(".pic").val("");
            });
        }
    });
    // $(function () {
    //     $("div#dropz").dropzone({ url: "/upload" });
    //     $(".selectSubSort").on().change(function () {
    //         // $("#s2").onchange(function () {
    //
    //         // 获取s1当前选中
    //         var selectValue = $(".selectSubSort").val()
    //
    //         //获取当前ajax请求，通过省获取市
    //         $.ajax({
    //             url: "/subSort?sortId=" + selectValue,
    //             type: "GET",
    //             async: true,
    //             success: function (data) {
    //                 //获取数据，解析，显示
    //                 var obj = JSON.parse(data)
    //
    //                 var s2 = $("#chooseSubSort")
    //                 //先清空s2的数据
    //                 s2.html("")
    //                 for (var i = 0; i < obj.length; i++) {
    //                     var getSubSort = obj[i].subSort
    //
    //                     // var option = $("<option>" + province.text + "</option>>")
    //                     var option = $("<option></option>")
    //                     //为新建的option标签添加显示的内容
    //                     option.text(getSubSort)
    //                     //为新建的option标签添加value属性
    //                     option.val(getSubSort)
    //                     s2.append(option)
    //                 }
    //             }
    //         })
    //     })
    //
    // });
</script>
</body>
</html>